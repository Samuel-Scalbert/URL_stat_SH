Évaluation des améliorations de prédiction
d’hospitalisation par l’ajout de connaissances métier aux
dossiers médicaux
Raphaël Gazzotti, Catherine Faron Zucker, Fabien Gandon, Virginie

Lacroix-Hugues, David Darmon

To cite this version:

Raphaël Gazzotti, Catherine Faron Zucker, Fabien Gandon, Virginie Lacroix-Hugues, David Dar-
mon. Évaluation des améliorations de prédiction d’hospitalisation par l’ajout de connaissances métier
aux dossiers médicaux. EGC 2019 - 19ème Conférence Francophone sur l’Extraction et Gestion des
connaissances, Jan 2019, Metz, France. ￿hal-01967586￿

HAL Id: hal-01967586

https://hal.science/hal-01967586

Submitted on 31 Dec 2018

HAL is a multi-disciplinary open access
archive for the deposit and dissemination of sci-
entific research documents, whether they are pub-
lished or not. The documents may come from
teaching and research institutions in France or
abroad, or from public or private research centers.

L’archive ouverte pluridisciplinaire HAL, est
destinée au dépôt et à la diffusion de documents
scientifiques de niveau recherche, publiés ou non,
émanant des établissements d’enseignement et de
recherche français ou étrangers, des laboratoires
publics ou privés.

Évaluation des améliorations de prédiction d’hospitalisation
par l’ajout de connaissances métier aux dossiers médicaux

Raphaël Gazzotti∗,∗∗∗∗, Catherine Faron-Zucker∗, Fabien Gandon∗∗,
Virginie Lacroix-Hugues∗∗∗, David Darmon∗∗∗

∗Université Côte d’Azur, Inria, CNRS, I3S, France, prénom.nom@unice.fr
∗∗Inria, Université Côte d’Azur, CNRS, I3S, France, prénom.nom@inria.fr
∗∗∗Université Côte d’Azur, Département de Médecine Générale,
vhugues@outlook.fr, david.darmon@unice.fr
∗∗∗∗SynchroNext, France

Résumé. Les dossiers médicaux électroniques (DME) contiennent des informa-
tions essentielles sur les différents épisodes symptomatiques qu’un patient a su-
bis. Cependant, les connaissances disponibles à travers ces enregistrements res-
tent limitées : les attributs extractibles à partir de ces textes pour un algorithme
d’apprentissage ne contiennent pas toutes les informations implicites connues
par un expert. Aﬁn d’évaluer et de pallier ce problème, nous avons étudié l’im-
pact de l’augmentation des textes et des informations textuelles en provenance
des DMEs par des annotations ontologiques générées automatiquement à partir
de leur analyse aﬁn d’enrichir en amont les représentations vectorielles utilisées
ensuite par des algorithmes d’apprentissage.

1

Introduction

Les dossiers médicaux électroniques (DME) contiennent des informations essentielles sur
les différents épisodes symptomatiques traversés par un patient. Ils possèdent le potentiel
d’améliorer le bien-être des patients et constituent une source de données précieuse pour les
approches d’intelligence artiﬁcielle. Dans cet article, nous augmentons avec des connaissances
ontologiques les champs textuels issus des DMEs et évaluons leur impact sur la tâche de pré-
diction d’une hospitalisation. Notre évaluation se base sur un jeu de données réelles extrait de
la base PRIMEGE PACA (Lacroix-Hugues et al. (2017)) qui contient plus de 350 000 consulta-
tions par 16 médecins généralistes. Dans cette base, les descriptions textuelles rédigées par les
généralistes sont disponibles avec les codes de classiﬁcation internationaux des médicaments
prescrits, antécédents personnels, familiaux, facteurs environnementaux, pathologies et raisons
de consultation, ainsi que les valeurs numériques des différents résultats d’examens médicaux.
Les connaissances disponibles dans un DME restent cependant limitées aux spéciﬁcités de
chaque patient et les textes qui s’y trouvent reposent sur un certain nombre d’informations im-
plicites connues des experts médicaux et à des niveaux de détail variables. Aussi, un algorithme
d’apprentissage automatique reposant sur ces seules informations ne pourra pas exploiter de
connaissances spéciﬁques implicites dans les documents à analyser ou devra les réapprendre,
possiblement de façon incomplète et coûteuse.

Impact des connaissances métier sur la prédiction d’hospitalisation

Notre principale question de recherche est alors la suivante : Des apports de connaissances
ontologiques dans les représentations destinées à l’apprentissage peuvent-ils améliorer la pré-
diction d’un événement ? dans notre cas d’étude, nous cherchons à améliorer la prédiction de
l’hospitalisation d’un patient à l’aide de connaissances provenant de différentes ontologies du
domaine médical. Dans cet article, nous nous concentrons sur les sous-questions suivantes :

— Comment intégrer des connaissances du domaine dans une représentation vectorielle

destinée à un algorithme d’apprentissage ?

— L’ajout de connaissances du domaine améliore-t-il la prédiction d’hospitalisation ?
— Quelles connaissances du domaine combinées à quelles méthodes d’apprentissage four-

nissent une meilleure prédiction de l’hospitalisation d’un patient ?

Pour répondre à ces questions, nous introduisons la méthode proposée pour l’annotation sé-
mantique et l’extraction de connaissances à partir de textes puis nous précisons la façon dont
les connaissances ontologiques sont injectées dans la représentation vectorielle des DMEs (sec-
tion 2). Ensuite, nous présentons le protocole expérimental et les résultats obtenus (section 3),
pour terminer avec la conclusion et les perspectives de cette étude (section 4).

2 Utilisation de connaissances ontologiques

2.1 Extraction de connaissances ontologiques

Aﬁn d’extraire les connaissances du domaine sous-jacentes aux termes employés dans les
descriptions textuelles rédigées par les médecins, nous recherchons au sein des textes les en-
tités du domaine médical et les liens aux concepts auxquels ils correspondent dans Wikidata,
DBpedia et des ontologies spéciﬁques au secteur de la santé. Wikidata et DBpedia ont été
choisis du fait que des concepts généraux ne sont identiﬁables qu’avec des référentiels géné-
raux. Notre étude vise à analyser et comparer l’impact apporté par ces connaissances issues de
diverses sources sur la prédiction de l’hospitalisation.

Extraction de connaissances de DBpedia Pour détecter dans un DME les concepts du do-
maine médical dans DBpedia, nous avons utilisé l’annotateur sémantique DBpedia Spotlight.
Nous avons procédé à une analyse manuelle des entités nommées détectées sur un échantillon
de DME et déterminé 14 concepts SKOS désignant des sujets médicaux pertinents pour la
prédiction d’hospitalisation, car relatifs à de lourdes pathologies : Anatomo-pathologie des
tumeurs, Cancérologie, Radio-oncologie, Maladie cardio-vasculaire, Trouble du rythme car-
diaque, Maladie neuro-vasculaire, Hémopathie maligne, Maladie auto-immune, Etat médical
lié à l’obésité, Maladie génétique, Ablation chirurgicale, Défaillance d’organe, Urgence mé-
dicale et Urgence en cardiologie. Pour chaque DME à représenter, à partir de la liste des res-
sources identiﬁées par DBpedia Spotlight, nous interrogeons le point d’accès francophone de
DBpedia aﬁn de déterminer si ces ressources ont pour sujet (propriété dcterms:subject)
un ou plusieurs des 14 concepts retenus. Aﬁn d’améliorer l’annotation de DBpedia Spotlight,
les mots ou expressions abrégées au sein des DMEs sont ajoutés aux champs textuels à l’aide
d’une approche symbolique, par l’utilisation de règles et dictionnaire.

Extraction de connaissances de Wikidata Wikidata est une base de connaissances ouverte
centralisant les données des divers projets de la fondation Wikimedia. Sa couverture est sur

R. Gazzotti et al.

certains domaines de connaissances différente de celle de DBpedia. Nous avons extrait des
connaissances relatives aux médicaments en requêtant le point d’accès de Wikidata. Plus pré-
cisément, nous avons identiﬁé trois propriétés de médicaments pertinentes pour la prédiction
d’une hospitalisation : ‘agit en tant que tel’ (propriété wdt:P2868), ‘maladie traitée’ (pro-
priété wdt:P2175), et ‘médicament interagit avec’ (propriété wdt:P769). A partir de l’URI
d’un médicament, nous extrayons des couples propriété-concept liés aux médicaments pour les
trois propriétés retenues (e.g. la péthidine est un narcotique, le méproprobamate soigne la cé-
phalée, l’atazanavir interagit avec le rabéprazole).

Extraction de connaissances issues d’ontologies spéciﬁques au domaine Nous nous
sommes intéressés à l’impact de connaissances issues d’ontologies spéciﬁques au domaine
notamment sur les champs textuels comportant des codes internationaux de médicaments issus
de la classiﬁcation Anatomique, Thérapeutique et Chimique (ATC) et des codes relatifs aux
raisons de la consultation auprès d’un médecin généraliste avec la Classiﬁcation Internatio-
nale des Soins Primaires (CISP-2). Le choix de CISP2 et ATC dans notre étude vient du fait
que la base de données PRIMEGE adopte ces nomenclatures. Nous avons extrait du vocabu-
laire ATC 1 représenté à l’aide de primitives OWL et SKOS les labels des super classes des
classes relatives aux médicaments répertoriés dans la base de données PRIMEGE, grâce aux
propriétés rdfs:subClassOf et atc:member_of sur différents niveaux de profondeur
à l’aide de requêtes SPARQL avec des chemins de propriétés (e.g. le ‘meprednisone’ (code
H02AB15) a pour super classe ‘Glucocorticoids, Systemic’ (code H02AB) qui a elle-même
pour super classe ‘CORTICOSTEROIDS FOR SYSTEMIC USE, PLAIN’ (code H02)). De
manière analogue, nous avons extrait de la représentation OWL-SKOS de CISP2 2 les labels
des super classes avec la propriété rdfs:subClassOf, cependant étant donné la faible pro-
fondeur de cette représentation, il n’est possible d’extraire qu’une super classe par problème
de santé diagnostiqué ou procédure de soins identiﬁée (e.g. Symptôme et plaintes (code H05)
a pour super classe Oreille (code H)).

2.2

Intégrer des connaissances ontologiques au vecteur de représentation

Il est crucial avec un corpus spéciﬁque à un domaine de générer sa propre représentation,
car de nombreux termes peuvent se trouver en dehors d’une représentation généraliste ou une
notion ambiguë peut être associée à un terme alors qu’il possède un sens bien précis dans le
domaine considéré. Nous avons opté pour un modèle exploitant la représentation par sac de
mots (BOW) pour différentes raisons : (i) les principales informations de documents textuels
sont extraites sans nécessiter un large corpus ; (ii) les attributs ne sont pas transformés ce qui
permet d’identiﬁer quels termes participent à la distinction de patients devant être hospitali-
sés ou non ; (iii) l’intégration de données hétérogènes est facilitée, car il sufﬁt de concaténer
d’autres attributs à ce modèle. À l’image de la structure employée dans PRIMEGE, certaines
données textuelles doivent être distinguables les unes des autres lors du passage à la représen-
tation vectorielle des DMEs comme, par exemple, les antécédents d’un patient et ses antécé-
dents familiaux. Pour ce faire, un préﬁxe a été introduit à la création du BOW en fonction du
champ textuel source. Soit C i = {ci
n} le sac de concepts résultant de l’extraction de

2, ..., ci

1, ci

1. http://bioportal.bioontology.org/ontologies/ATC
2. http://bioportal.lirmm.fr/ontologies/CISP-2

Impact des connaissances métier sur la prédiction d’hospitalisation

concepts issus d’ontologies sur le ième patient après analyse des données textuelles structurées
et des textes libres tels que les observations. Soit V i = {wi
n} le BOW obtenu à par-
tir des données textuelles. Les différents algorithmes d’apprentissage exploitent l’agrégation
de ces deux vecteurs : xi = V i ⊕ C i. Les concepts issus d’ontologies sont ainsi considérés
comme un token dans un texte, lorsqu’un concept est identiﬁé, il est ajouté à un vecteur de
concepts et son attribut aura pour valeur le nombre d’occurrences de ce concept au sein du
DME du patient.

2, ..., wi

1, wi

3 Expérimentations et Résultats

3.1 Protocole

Nous avons expérimenté et évalué notre approche sur un ensemble de données équilibré
DSB contenant 714 patients hospitalisés et 732 non hospitalisés. Comme nous nous servons
d’algorithmes d’apprentissage non-séquentiels pour évaluer l’enrichissement apporté par les
connaissances ontologiques, nous avons dû agréger toutes les consultations d’un patient aﬁn
de s’affranchir de la dimension temporelle inhérente aux épisodes médicaux dans la vie d’un
patient. Ainsi, toutes les consultations survenant avant une hospitalisation sont agrégées en une
représentation vectorielle du dossier du patient. Pour les patients n’ayant pas été hospitalisés,
l’ensemble de leurs consultations est agrégé. Nous avons évalué les représentations vectorielles
ainsi construites par validation croisée imbriquée (Cawley et Talbot (2010)), avec une boucle
externe ayant un K ﬁxé à 10 et pour la boucle interne un K ﬁxé à 3 avec exploration des
hyperparamètres par recherche aléatoire sur 150 itérations. Les différentes expériences ont été
menées sur un HP EliteBook 840 G2, 2,6 hHz, 16 go de RAM sous Python 3.6.3 ainsi qu’un
Precision Tower 5810, 3.7GHz, 64GB RAM sous Python 3.5.4. La création des représentations
vectorielles a été effectuée sur le HP EliteBook et sur cette même machine ont été déployés
DBpedia Spotlight ainsi que les ontologies spéciﬁques au domaine.

3.2 Algorithmes d’apprentissage automatique

Nous avons effectué la tâche de prédiction d’hospitalisation avec différents algorithmes de
l’état de l’art disponibles dans la bibliothèque Scikit-Learn avec des hyperparamètres détermi-
nés par validation croisée imbriquée :

— SV C : Machine à vecteurs de support dont l’implémentation se base sur celle de libsvm
(Chang et Lin (2011)). Le coefﬁcient de régularisation C, le noyau utilisé par l’algo-
rithme ainsi que le coefﬁcient gamma du noyau ont été optimisés.

— RF : L’algorithme des forêts aléatoire (Breiman (2001)). Le nombre d’arbres dans la
forêt, la profondeur maximale des arbres, le nombre minimal d’échantillons requis aﬁn
de diviser un nœud interne, le nombre minimal d’échantillons à prélever au niveau d’un
nœud foliaire et le nombre maximal de nœuds foliaires ont été optimisés.

— Log : L’algorithme de la régression logistique (McCullagh et Nelder (1989)). Le coef-
ﬁcient de régularisation C et la norme utilisée dans la pénalisation ont été optimisés.

Nous avons opté pour ces algorithmes comme il est possible de fournir une interprétation native
de leur décision, permettant ainsi de préciser au médecin les raisons d’hospitaliser un patient
avec les facteurs sur lesquels il peut intervenir aﬁn d’éviter que cet événement ait lieu.

R. Gazzotti et al.

3.3 Résultats et discussion

Aﬁn d’évaluer l’intérêt de prendre en compte des connaissances ontologiques, nous nous
sommes servis de la mesure Ftp,f p (Forman et Scholz (2010)) pour évaluer les performances
des algorithmes de classiﬁcation. Soit TN, le nombre d’instances négatives correctement clas-
sées, FP le nombre d’instances négatives incorrectement classées, FN le nombre d’instances
positives incorrectement classées et TP le nombre d’instances positives correctement classées.

T Pf =

K
(cid:80)
i=1

T P (i)

F Pf =

K
(cid:80)
i=1

F P (i)

F Nf =

K
(cid:80)
i=1

F N (i)

Ftp,f p =

2.T Pf
2.T Pf +F Pf +F Nf

La Table 1 synthétise les résultats pour chaque méthode que nous avons testée sur DSB :
— r´ef ´erence : représente notre base de comparaison où aucun enrichissement ontolo-
gique n’est fait sur les DMEs i.e. seulement les données textuelles sous forme de BOW.

— +s : enrichissement apporté avec des concepts de la base de connaissances DBpedia.
— +s∗ : indique un enrichissement apporté avec des concepts de DBpedia, contrairement
à +s, la totalité des champs textuels n’est pas exploitée, ainsi sont extraits les concepts
des champs relatifs aux antécédents du patient, ses allergies, les facteurs environne-
mentaux, ses problèmes de santé actuels, ses motifs de consultations, ses diagnostics,
ses médicaments, ses procédures de soin suivies, ses motifs de prescription de médica-
ments et les observations du médecin.

— +t : enrichissement avec des concepts de la représentation OWL-SKOS de CISP-2.
— +c : enrichissement avec des concepts de la représentation OWL-SKOS de ATC, le
nombre ou la fenêtre de nombres accolés indique les niveaux hiérarchiques utilisés.

— +wa : enrichissement avec la propriété ‘agit en tant que tel’ de Wikidata.
— +wi : enrichissement avec la propriété ‘médicament interagit avec’ de Wikidata.
— +wm : enrichissement avec la propriété ‘maladie traitée’ de Wikidata.

Représentation
r´ef ´erence
+t
+s
+s∗
+c1
+c1−2
+c2
+wa
+wi
+wm

SV C
0.8270
0.8239
0.8221
0.8339
0.8235
0.8254
0.8348
0.8223
0.8149
0.8221

RF
0.8533
0.8522
0.8522
0.8449
0.8433
0.8480
0.8522
0.8468
0.8484
0.8453

Log Moyenne
0.8431
0.8435
0.8409
0.8434
0.8245
0.8415
0.8458
0.8412
0.8378
0.8377

0.8491
0.8545
0.8485
0.8514
0.8453
0.8510
0.8505
0.8545
0.8501
0.8458

TAB. 1 – Ftp,f p pour les différents ensembles vectoriels envisagés avec différentes méthodes
d’apprentissage sur le jeu de données équilibré DSB.

Malgré la faible profondeur de la représentation OWL-SKOS de CISP2 la conﬁguration
+t, est sufﬁsante pour améliorer la prédiction d’hospitalisation d’un patient. Un deuxième ni-
veau de hiérarchie de super classes, +c2 de la représentation OWL-SKOS de ATC fournit de

Impact des connaissances métier sur la prédiction d’hospitalisation

meilleurs résultats qu’un seul niveau avec +c1. Cependant, les résultats montrent que l’expan-
sion par DBpedia à des champs indirectement liés à l’état du patient, tels que les antécédents
familiaux, peut conduire les algorithmes de classiﬁcation à tirer de mauvaises conclusions
même si un préﬁxe a été ajouté pour distinguer l’origine des champs textuels. Le champ de
texte relatif aux symptômes a été mal complété (souvent renseigné comme le champ d’obser-
vation) et la majorité des remarques ainsi détectées par DBpedia Spotlight sont principalement
des fausses alertes. De plus, l’analyse qualitative des résultats a révélé des cas de négation (e.g.
‘pas de SC d’insufﬁsance cardiaque’) et de mauvaise prise en compte de plusieurs termes (e.g.
"brûlures mictionnelles" qui est associé par DBpedia Spotlight à une "Brûlure" rapportant ainsi
ce terme à une ‘Urgence médicale’).

4 Conclusion

Dans cet article, nous avons présenté une méthode pour coupler connaissances ontolo-
giques, spécialisées ou généralistes, et données textuelles pour prédire l’hospitalisation de
patients. Ainsi, nous avons généré diverses représentations couplant vecteurs de concepts et
BOWs puis évalué leurs efﬁcacités pour la prédiction avec divers algorithmes de classiﬁcation.
Nous prévoyons à court terme d’évaluer l’impact de nouvelles ontologies spéciﬁques au do-
maine et d’autres propriétés participant à la prédiction de l’hospitalisation de patients. Nous
projetons aussi de travailler sur une représentation alternative couplant relations sémantiques
et données textuelles, ainsi que la détection de la négation et des expressions complexes.

Références

Breiman (2001). Random forests. Machine learning 45(1), 5–32.
Cawley et Talbot (2010). On over-ﬁtting in model selection and subsequent selection bias in

performance evaluation. Journal of Machine Learning Research 11(Jul), 2079–2107.

Chang et Lin (2011). Libsvm : a library for support vector machines. ACM transactions on

intelligent systems and technology (TIST) 2(3), 27.

Forman et Scholz (2010). Apples-to-apples in cross-validation studies : pitfalls in classiﬁer

performance measurement. ACM SIGKDD Explorations Newsletter 12(1), 49–57.

Lacroix-Hugues et al. (2017). Creation of the ﬁrst french database in primary care using the

icpc2 : Feasibility study. Studies in health technology and informatics 245, 462–466.

McCullagh et Nelder (1989). Generalized linear models, Volume 37. CRC press.

Summary

The knowledge available through electronic medical records (EMR) themselves remains
limited by the fact the features used by a machine learning algorithms from a text alone do
not contain all the implicit information known by a domain expert. We propose and evaluate
the ontological augmentations of features extracted from textual information from EMRs on
several machine learning algorithms to predict hospitalization.

